<?phpuse Illuminate\Database\Eloquent\Model;use Illuminate\Database\Capsule\Manager as DB;class goodscatModel extends Model{	protected $table 		= 'goods_cat';	protected $primaryKey	= 'id';		protected $appends 		= ['attr', 'attributes'];	public function Products()	{		return $this->hasMany('goodsModel', 'cat_id', 'id');	}    public function getAttributesAttribute()    {        return empty($this->attributes['attributes']) ? [] : explode(',', $this->attributes['attributes']);    }	public function getAttrAttribute(){		$attributes =empty($this->attributes['attributes'])?[]:explode(',', $this->attributes['attributes']);		$attr		=DB::table('attribute')->whereIn('id', $attributes)->get();        foreach($attr as $k=>&$v){			if($v['input_type']>1){				$v['values']    =explode(';', $v['values']);				$v['valueList'] = [];				foreach ($v['values'] as $k2=>$v2){					array_push($v['valueList'], [						'index' => $k2,						'name'  => $v2,						'flag'  => FALSE,					]);				}			}        }		return $attr;	}	}